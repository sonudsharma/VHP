<script>
    $('#hidden_input_file').on('blur', function (fileChange) {
        $('#hidden_input_file').val(myFile);
    });
    var http = require('http');
    var hostname = '10.10.10.140';
    var port = 4200;

    var server = http.createServer(function (req, res) {
        console.log(req.headers);
        res.writeHead(200, { 'content-type': 'text/html' });
        res.end('<h1>This is hello word</h1>');
    });

    server.listen(port, hostname, function () {
        console.log(`server running at http://${hostname}:${port}/`);
    });
</script>

<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <div class="card" *ngIf="type1 != Doctor">
                    <div class="card-header" data-background-color="red">
                        <h4 class="title">User Profile</h4>
                        <p class="category">Complete your profile</p>
                    </div>
                    <div class="card-content">

                        <form [formGroup]="rForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>First Name</label>
                                        <input type="text" class="form-control" id="fname" value="{{fname}}" name="firstName" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Last Name</label>
                                        <input type="text" class="form-control" id="lname" value="{{lname}}" name="lastName" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Email address</label>
                                        <input type="email" class="form-control" id="email" value="{{email}}" [readonly]="true" name="email" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Age</label>
                                        <input type="age" class="form-control" id="age" value="{{age}}" name="age" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty" [ngClass]="displayFieldCss('phone')">
                                        <label>Phone</label>
                                        <input type="text" class="form-control" id="phone" value="{{phone}}" name="phone" required>
                                        <div *ngIf="required!=true">
                                                <app-field-error-display [displayError]="isFieldValid('phone',0)" errorMsg="Phone is Required">
                                                </app-field-error-display>
                                              </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Date Of Birth</label>
                                        <input type="date" class="form-control" id="doc" value="{{dob}}" name="dob" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>User Type</label>
                                        <input type="text" class="form-control" id="type" value="{{type}}" [readonly]="true" name="type" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Gender</label>
                                        <select class="form-control" id="gender" name="gender" value="{{gender}}" required>

                                            <option *ngFor="let g of gender1" [value]="g">{{g}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-8">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Adress</label>
                                        <input type="text" class="form-control" id="address" value="{{fulladdress}}" name="address" required>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Pin Code</label>
                                        <input type="text" class="form-control" id="pinCode" value="{{pincode}}" name="pinCode" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Country</label>
                                        <select class="form-control" id="country" value="{{country}}" name="country" required>

                                            <option *ngFor="let country of arr3" [value]="country.name">{{country.name}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>State</label>
                                        <select class="form-control" id="state" value="{{state}}" name="state" required>

                                            <option *ngFor="let state of arr2" [value]="state.name">{{state.name}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                        <div class="form-group form-black label-floating is-empty">
                                            <label>City</label>
    
                                            <select class="form-control" id="city" name="{{city}}" value="city" required>
    
                                                <option *ngFor="let city of arr1" [value]="city.id">{{city.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                            </div>

                            <div class="row" *ngIf="type == 'Patient'">
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Height</label>
                                        <input type="text" class="form-control" id="height" value="{{height}}" name="height" required>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Weight</label>
                                        <input type="text" class="form-control" id="weight" value="{{weight}}" name="weight" required>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Adhar Number</label>
                                        <input type="text" class="form-control" id="adharnumber" value="{{adharnumber}}" name="adharnumber" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row" *ngIf="type == 'Doctor'">
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Speciality</label>
                                        <select class="form-control" id="speciality" name="speciality" value="{{speciality}}" required>

                                            <option *ngFor="let speciality of arr" [value]="speciality">{{speciality}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>License Number</label>
                                        <input type="text" class="form-control" id="licienceNumber" value="{{licienceNumber}}" name="licienceNumber" required>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label>Tagline</label>
                                        <input type="text" class="form-control" id="tagline" value="{{tagline}}" name="tagline" required>
                                    </div>
                                </div>
                            </div>

                            <button type="button" class="btn btn-danger pull-right" (click)="upDate('top','center')">Update</button>

                            <div class="clearfix"></div>
                        </form>
                    </div>

                </div>

                <!------------------------------------------Document Upload---------------------------------------------->

                <div class="card">
                    <div class="card-header" data-background-color="red">
                        <h4 class="title">Upload Document</h4>
                        <p class="category">Complete your profile</p>
                    </div>

                    <div class="card-content">
                        <form [formGroup]="rForm" (ngSubmit)="onSubmit(rForm.value,'top','center')" method="POST" enctype="multipart/form-data">
                            <div class="row">
                                <div class="col-md-10" style="line-height: 2.428571">
                                    <div class="form-group form-black label-floating is-empty" [ngClass]="displayFieldCss('myFile')">
                                        <label>File</label>
                                        <input type="file" class="form-control" #fileupload value="myFile" name="myFile" (change)="fileChange(fileupload.files)"
                                            style="opacity: 1;top:20px" required>

                                    </div>
                                    <br>
                                    <div style="top:10px">
                                        <app-field-error-display [displayError]="isFieldValid('myFile')" errorMsg="Document is Required">
                                        </app-field-error-display>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group form-black label-floating is-empty">
                                        <button type="submit" class="btn btn-danger">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card card-profile">
                    <div class="card-avatar">
                        <a href="#pablo">
                            <img class="img" src="{{photo}}" />
                        </a>
                    </div>

                    <div class="content">
                        <h6 class="category text-gray">{{type}}</h6>
                        <h4 class="card-title">{{fullName}}</h4>
                        <p class="card-content">
                            <!-- Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens’ bed design but the back is... -->
                        </p>
                        <!-- <a href="#pablo" class="btn btn-danger btn-round">Follow</a> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>